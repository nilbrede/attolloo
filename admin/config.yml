backend:
  name: git-gateway
  branch: main

media_folder: "images/uploads"
public_folder: "/images/uploads"

publish_mode: editorial_workflow
locale: "no"

collections:
  # Felles nettsidedata (site.json)
  - label: "Felles"
    name: "site"
    files:
      - label: "Nettside – Felles"
        name: "site"
        file: "data/site.json"
        fields:
          - { name: orgnr, label: "Organisasjonsnummer", widget: "string" }
          - { name: footer, label: "Footer-tekst", widget: "markdown", default: "Attolloogroup. Alle rettigheter forbeholdt." }

  # Forside (home.json)
  - label: "Forside"
    name: "home"
    files:
      - label: "Home"
        name: "home"
        file: "data/home.json"
        fields:
          - { name: title, label: "Tittel (hero)", widget: "string" }
          - { name: subtitle, label: "Ingress (hero)", widget: "markdown", required: false }
          - { name: hero_image, label: "Hero-bilde", widget: "image", choose_url: true, allow_multiple: false, required: false }
          - name: sections
            label: "Forside-seksjoner"
            widget: "list"
            collapsed: true
            fields:
              - { name: heading, label: "Overskrift", widget: "string" }
              - { name: body, label: "Tekst", widget: "markdown" }
              - { name: image, label: "Bilde", widget: "image", choose_url: true, required: false }

  # Om oss (about.json)
  - label: "Om oss"
    name: "about"
    files:
      - label: "About"
        name: "about"
        file: "data/about.json"
        fields:
          - { name: title, label: "Tittel (hero)", widget: "string" }
          - { name: subtitle, label: "Ingress (hero)", widget: "markdown", required: false }
          - { name: hero_image, label: "Hero-bilde", widget: "image", choose_url: true, allow_multiple: false, required: false }
          - name: sections
            label: "Seksjoner"
            widget: "list"
            collapsed: true
            fields:
              - { name: heading, label: "Overskrift", widget: "string" }
              - { name: body, label: "Brødtekst", widget: "markdown" }
              - { name: image, label: "Bilde", widget: "image", choose_url: true, required: false }

  # Tjenester (services.json)
  - label: "Tjenester"
    name: "services"
    files:
      - label: "Services"
        name: "services"
        file: "data/services.json"
        fields:
          - { name: title, label: "Tittel (hero)", widget: "string" }
          - { name: subtitle, label: "Ingress (hero)", widget: "markdown", required: false }
          - { name: hero_image, label: "Hero-bilde", widget: "image", choose_url: true, allow_multiple: false, required: false }
          - name: sections
            label: "Seksjoner"
            widget: "list"
            collapsed: true
            fields:
              - { name: heading, label: "Overskrift", widget: "string" }
              - { name: body, label: "Brødtekst", widget: "markdown" }
              - { name: image, label: "Bilde", widget: "image", choose_url: true, required: false }

  # Blogginnlegg (posts)
  - label: "Blogginnlegg"
    name: "posts"
    folder: "content/posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    path: "{{slug}}/index"
    extension: "md"
    format: "frontmatter"
    preview_path: "blogg/{{slug}}"
    fields:
      - { label: "Tittel", name: "title", widget: "string" }
      - { label: "Publisert", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - { label: "Ingress", name: "excerpt", widget: "text" }
      - { label: "Innhold", name: "body", widget: "markdown" }
      - { label: "Bilde", name: "image", widget: "image", choose_url: true, required: false }
