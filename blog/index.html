<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>Blogg â€“ Attolloo Group</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style.css?v=8">
</head>
<body data-page="blog">

<header class="site-header">
  <div class="container">
    <a class="site-logo" href="../index.html"><img src="../aab-logo.png" alt="Attolloo logo"></a>
    <span class="site-brand-text">Attolloo Group</span>
    <nav class="main-nav">
      <ul>
        <li><a href="../index.html">Forside</a></li>
        <li><a href="../about.html">Om oss</a></li>
        <li><a href="../services.html">Tjenester</a></li>
        <li><a href="index.html" aria-current="page">Blogg</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="page-top-space"></div>

<main class="container">
  <h1>Blogg</h1>
  <div id="blog-list" class="cards small"></div>
</main>

<footer class="container">
  <p>&copy; <span id="year"></span> Attolloogroup.</p>
</footer>

<script>
document.getElementById("year").textContent = new Date().getFullYear();

(async function loadBlog(){
  try {
    const res = await fetch("posts.json?v=" + Date.now());
    const posts = await res.json();
    const wrap = document.getElementById("blog-list");

    wrap.innerHTML = posts.map(p => `
      <article class="card small">
        <a href="post.html?p=${encodeURIComponent(p.slug)}">
          <img src="${p.cover || ''}" alt="">
          <h3>${p.title || 'Uten tittel'}</h3>
          <p>${p.excerpt || ''}</p>
        </a>
      </article>
    `).join("");
  } catch(e){
    document.getElementById("blog-list").innerHTML = "<p>Klarte ikke laste bloggen.</p>";
  }
})();
</script>
</body>
</html>
